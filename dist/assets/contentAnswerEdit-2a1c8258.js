import{d as I,u as A,b as s,m as E,o as V,D as b,a as c,c as i,i as l,t as p,k as m,g as h,w as B,q as T,f as N,F as M,j as S,K as D,r as F,x as G,_ as R}from"./index-8f9ccc2f.js";import{G as U,a as $}from"./getChapter-b3bf389b.js";import{M as j,r as q}from"./relpace-5762b57c.js";/* empty css                *//* empty css                  */import"./katex-4b21be29.js";import"./getVideo-88887dd2.js";const z={key:0,class:"article"},H={class:"article_detail",id:"article_detail"},J={class:"chapter_title"},K={key:0},L={class:"article_content"},O={class:"article_catalogue",id:"sidebar"},P=["onClick"],Y=["href"],Q="preview-only",W=I({__name:"contentAnswerEdit",setup(X){const u=A(),a=s(0),n=s(),o=s(),d=s("");s([]);const f=e=>{F.push({name:"markdownDetail",params:{chapterId:e}})},_=s(),y=e=>{U(e).then(t=>{t.state==200&&(o.value=t.data,d.value=o.value.content,_.value=JSON.parse(o.value.catalogue),console.log(o.value)),setTimeout(()=>{console.log(o.value.id),q(o.value.id,!0,!0)},100)})},g=e=>{$(e).then(t=>{t.state==200&&(n.value=t.data)})},w=()=>{var e=document.getElementById("sidebar");window.scrollY>100?(e.style.position="fixed",e.style.top="0"):e.style.position="static"},v=e=>{document.getElementById(e).scrollIntoView({behavior:"smooth"})},x=()=>{const e=u.meta.scrollTo;e&&v(decodeURIComponent(e).slice(1))};return E(()=>{a.value=null,n.value=null,o.value=null,setTimeout(()=>{a.value=u.params.chapterId,g(a.value),y(a.value)},50)}),V(()=>{setTimeout(()=>{x()},500),window.onscroll=function(){w()}}),b(()=>{a.value=null,n.value=null,o.value=null}),(e,t)=>{const k=G;return n.value?(c(),i("div",z,[l("div",H,[l("div",J,[n.value?(c(),i("h1",K,p(n.value.name),1)):m("",!0),h(k,{type:"primary",link:"",onClick:t[0]||(t[0]=r=>f(a.value))},{default:B(()=>t[1]||(t[1]=[T("返回",-1)])),_:1,__:[1]})]),l("div",L,[h(N(j),{editorId:Q,modelValue:d.value},null,8,["modelValue"])])]),l("div",O,[(c(!0),i(M,null,S(_.value,(r,C)=>(c(),i("div",{key:C,onClick:Z=>v(r.text)},[l("div",{class:D(["level","level-"+r.level])},[l("a",{href:"#"+r.text},p(r.text),9,Y)],2)],8,P))),128))])])):m("",!0)}}});const re=R(W,[["__scopeId","data-v-84a9a788"]]);export{re as default};
