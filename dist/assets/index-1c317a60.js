import{h as w,d as ee,b as d,m as te,e as le,a as v,c as k,g as o,w as l,i as n,aE as oe,F as T,j as F,t as H,f as C,aA as ne,b7 as L,as as N,q as u,n as ae,s as b,r as se,x as ie,ap as de,$ as ue,a0 as re,ad as _e,a8 as me,aJ as ve,aK as ce,aL as pe,_ as fe}from"./index-8f9ccc2f.js";import{g as ge}from"./getCatalogue-914a408d.js";function ke(r){return w({url:"/md/ch/add",method:"POST",data:r})}function Ce(r){return w({url:"/md/co/add",method:"POST",data:r})}function he(r){return w({url:"/md/co/del",method:"DELETE",params:{id:r}})}function be(r){return w({url:"/md/ch/del",method:"DELETE",params:{id:r}})}const we={class:"common-layout"},ye={class:"sidebar-groups"},Ee=["onMouseenter","onMouseleave"],Ve={class:"sidebar-group-title-text"},$e=["title"],xe=["id"],Ie={class:"more_filled_container"},De=["onClick"],Me=["onMouseenter","onMouseleave"],Be={class:"link-title"},Se=["id"],Te={class:"more_filled_container"},Fe={class:"more_filled_item"},He={class:"dialog-footer"},Le={class:"dialog-footer"},Ne={class:"dialog-footer"},Ue=ee({__name:"index",setup(r){const _=d({id:null,name:""}),c=d(!1),U=()=>{if(_.value.name==""||_.value.name==null){b.warning("请输入名称");return}c.value=!1,Ce(_.value).then(t=>{t.state==200?(_.value.name="",m.value=t.data):b.error(t.message)})},p=d(!1),f=d(!1),y=d(),E=d(),A=t=>{y.value=t,f.value=!0},O=t=>{E.value=t,p.value=!0},P=()=>{be(E.value).then(t=>{t.state==200?m.value=t.data:b.error(t.message)}),p.value=!1,E.value=null},z=()=>{he(y.value).then(t=>{t.state==200?m.value=t.data:b.error(t.message)}),f.value=!1,y.value=null},m=d([]),x=d(0),h=d([]),I=t=>{h.value.push(t)},D=t=>{let e=h.value.indexOf(t);e!==-1&&h.value.splice(e,1),V(t)},M=t=>{document.getElementById(t).style.display="flex"},V=t=>{setTimeout(()=>{h.value.includes(t)||(document.getElementById(t).style.display="none")},200)},R=t=>{const e={id:null,name:"无标题",courseId:t};console.log(e),ke(e).then(s=>{s.state==200&&(m.value=s.data)})},j=t=>{x.value=t,se.push({name:"markdownDetail",params:{chapterId:t}})},B=()=>{ge().then(t=>{t.state==200&&(m.value=t.data)})};return te(()=>{B()}),(t,e)=>{const s=ie,S=de,q=ue,J=re,K=_e,$=me,G=ve,Q=le("RouterView"),W=ce,X=pe;return v(),k("div",we,[o(X,{style:{height:"100vh"}},{default:l(()=>[o(G,{width:"250px"},{default:l(()=>[n("div",ye,[e[10]||(e[10]=n("div",{class:"sidebar-top"},[n("a",{href:"/"},[n("div",{style:{height:"3em","line-height":"3em",padding:"0.5em 1em"}},[n("img",{src:oe,alt:""})])])],-1)),(v(!0),k(T,null,F(m.value,(a,Y)=>(v(),k("section",{class:"sidebar-group",key:Y},[n("div",{class:"sidebar-group-title",onMouseenter:i=>M("course"+a.courseId),onMouseleave:i=>V("course"+a.courseId)},[n("div",Ve,[n("p",{title:a.courseName},H(a.courseName),9,$e)]),n("div",{class:"sidebar-group-title-btn-div",id:"course"+a.courseId},[o(s,{class:"sidebar-group-title-btn",link:"",icon:C(ne),onClick:i=>R(a.courseId)},null,8,["icon","onClick"]),o(S,{placement:"right",width:150,trigger:"click",onShow:i=>I("course"+a.courseId),onHide:i=>D("course"+a.courseId)},{reference:l(()=>[o(s,{class:"sidebar-group-title-btn",link:"",icon:C(L)},null,8,["icon"])]),default:l(()=>[n("div",Ie,[n("div",{class:"more_filled_item",onClick:i=>A(a.courseId)},[o(s,{link:"",icon:C(N),size:"large"},{default:l(()=>e[8]||(e[8]=[u("删除",-1)])),_:1,__:[8]},8,["icon"])],8,De)])]),_:2},1032,["onShow","onHide"])],8,xe)],40,Ee),(v(!0),k(T,null,F(a.chapterList,(i,Z)=>(v(),k("div",{class:"link",key:Z,onMouseenter:g=>M("chapter"+i.id),onMouseleave:g=>V("chapter"+i.id)},[n("div",Be,[o(s,{title:i.name,class:"link-button",link:"",onClick:g=>j(i.id)},{default:l(()=>[u(H(i.name),1)]),_:2},1032,["title","onClick"])]),n("div",{class:"sidebar-group-title-btn-div",id:"chapter"+i.id},[o(S,{placement:"right",width:150,trigger:"click",onShow:g=>I("chapter"+i.id),onHide:g=>D("chapter"+i.id)},{reference:l(()=>[o(s,{class:"sidebar-group-title-btn",link:"",icon:C(L)},null,8,["icon"])]),default:l(()=>[n("div",Te,[n("div",Fe,[o(s,{link:"",icon:C(N),size:"large",onClick:g=>O(i.id)},{default:l(()=>e[9]||(e[9]=[u("删除",-1)])),_:2,__:[9]},1032,["icon","onClick"])])])]),_:2},1032,["onShow","onHide"])],8,Se)],40,Me))),128))]))),128))]),n("div",{class:"floating-button",onClick:e[0]||(e[0]=a=>c.value=!0)}," + "),o($,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=a=>c.value=a),title:"新建课程",width:"500","align-center":""},{footer:l(()=>[n("div",He,[o(s,{link:"",onClick:e[2]||(e[2]=a=>c.value=!1)},{default:l(()=>e[11]||(e[11]=[u("取消",-1)])),_:1,__:[11]}),o(s,{type:"primary",link:"",onClick:U},{default:l(()=>e[12]||(e[12]=[u(" 确定 ",-1)])),_:1,__:[12]})])]),default:l(()=>[o(K,{model:_.value},{default:l(()=>[o(J,{label:"名称：","label-width":"80px"},{default:l(()=>[o(q,{modelValue:_.value.name,"onUpdate:modelValue":e[1]||(e[1]=a=>_.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),o($,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=a=>p.value=a),title:"删除页面?",width:"500","align-center":""},{footer:l(()=>[n("div",Le,[o(s,{link:"",onClick:e[4]||(e[4]=a=>p.value=!1)},{default:l(()=>e[13]||(e[13]=[u("取消",-1)])),_:1,__:[13]}),o(s,{type:"danger",link:"",onClick:P},{default:l(()=>e[14]||(e[14]=[u(" 删除 ",-1)])),_:1,__:[14]})])]),default:l(()=>[e[15]||(e[15]=n("div",null,[n("p",null,"您正在删除一个文档，删除后不可恢复，继续删除吗？")],-1))]),_:1,__:[15]},8,["modelValue"]),o($,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=a=>f.value=a),title:"删除课程?",width:"500","align-center":""},{footer:l(()=>[n("div",Ne,[o(s,{link:"",onClick:e[6]||(e[6]=a=>f.value=!1)},{default:l(()=>e[16]||(e[16]=[u("取消",-1)])),_:1,__:[16]}),o(s,{type:"danger",link:"",onClick:z},{default:l(()=>e[17]||(e[17]=[u(" 删除 ",-1)])),_:1,__:[17]})])]),default:l(()=>[e[18]||(e[18]=n("div",null,[n("p",null,"您正在删除一个课程，删除后不可恢复，继续删除吗？")],-1))]),_:1,__:[18]},8,["modelValue"])]),_:1}),o(W,null,{default:l(()=>[(v(),ae(Q,{key:x.value,onUpdateChapter:B}))]),_:1})]),_:1})])}}});const Pe=fe(Ue,[["__scopeId","data-v-92868703"]]);export{Pe as default};
