import{h as m,d as V,ag as M,u as H,b as I,m as N,a as u,c as j,g as t,f as _,p as S,i as h,w as a,aw as Y,q as d,F as $,j as F,n as G,t as p,as as R,r as x,W as U,s,x as q,v as A,ax as L,au as W,y as z,E as J,_ as K}from"./index-8f9ccc2f.js";/* empty css                  */function O(l){return m({url:"/project/delete_project",method:"GET",params:{projectId:l}})}function Q(l){return m({url:"/project/hidden_project",method:"GET",params:{projectId:l}})}function X(){return m.get("/project/my_all")}const Z={class:"view-card"},ee={class:"card-header"},te=V({__name:"index",setup(l){const k=M(),C=H(),f=I([]),D=()=>{x.go(-1)},y=e=>e?U(e).format("YYYY年MM月DD日 HH:mm"):"未设置时间节点",E=e=>{O(e).then(o=>{o.state==200?(v(),s({type:"success",message:"删除成功"})):s.error(o.message)})},b=async e=>{k.clearData(),await x.push({name:"ProjectDetail",params:{projectId:e}})},w=e=>{Q(e).then(o=>{o.state==200?s.success("操作成功"):s.error(o.message)})},v=()=>{X().then(e=>{e.state==200?f.value=e.data:s.error("获取数据异常;"+e.message)})};return N(()=>{v()}),(e,o)=>{const i=q,r=A,T=L,B=W,P=z,g=J;return u(),j("div",null,[t(S,{route:_(C)},null,8,["route"]),h("div",Z,[t(g,{style:{display:"flex","flex-direction":"column"},"body-style":{display:"flex",flexDirection:"column"}},{header:a(()=>[h("div",ee,[t(i,{type:"primary",icon:_(Y),link:"",onClick:D},{default:a(()=>o[0]||(o[0]=[d("返回",-1)])),_:1,__:[0]},8,["icon"])])]),default:a(()=>[(u(!0),j($,null,F(f.value,(n,ae)=>(u(),G(g,{shadow:"hover","body-style":{flex:"auto"},style:{"margin-top":".5rem","margin-bottom":".5rem"}},{default:a(()=>[t(P,null,{default:a(()=>[t(r,{span:8},{default:a(()=>[d(p(n.projectName),1)]),_:2},1024),t(r,{span:8},{default:a(()=>[d(p(y(n.startTime))+" - "+p(y(n.endTime)),1)]),_:2},1024),t(r,{span:4},{default:a(()=>[t(T,{modelValue:n.hidden,"onUpdate:modelValue":c=>n.hidden=c,"active-text":"展示","inactive-text":"隐藏","active-value":0,"inactive-value":1,onClick:c=>w(n.id)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:2},1024),t(r,{span:4},{default:a(()=>[t(i,{link:"",type:"primary",onClick:c=>b(n.id)},{default:a(()=>o[1]||(o[1]=[d("详情",-1)])),_:2,__:[1]},1032,["onClick"]),t(B,{title:"确定要删除吗?",onConfirm:c=>E(n.id)},{reference:a(()=>[t(i,{link:"",type:"danger",icon:_(R)},null,8,["icon"])]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})])])}}});const se=K(te,[["__scopeId","data-v-1487b500"]]);export{se as default};
