import{h as g,d as N,b as c,m as P,a as G,c as k,F as E,j as h,n as j,w as n,g as l,i as a,t as M,q as m,f,U as O,as as q,s as _,r as R,x as z,au as H,y as J,E as K,$ as Q,a0 as W,a8 as X,_ as Y}from"./index-8f9ccc2f.js";import{u as Z}from"./userGroupStore-011673ee.js";function ee(){return g({url:"user/group/get",method:"GET"})}function oe(r){return g({url:"user/group/add",method:"POST",data:r})}function te(r){return g({url:"user/group/update",method:"POST",data:r})}function le(r){return g({url:"user/group/del",method:"DELETE",params:{id:r}})}const ne={style:{display:"flex","flex-direction":"row"}},ae={style:{display:"flex","flex-direction":"row","justify-content":"flex-end"}},ue=N({__name:"index",setup(r){const v=Z(),d=c([]),D=()=>{ee().then(o=>{o.state==200?d.value=o.data:_.error(o.message)})},w=o=>{R.push({name:"userGroupAuth",params:{id:o}})},s=c({id:null,name:""}),b=()=>{if(s.value.name===""||s.value.name==null){_.warning("请输入用户组名");return}oe(s.value).then(o=>{o.state==200?(d.value=o.data,v.addGroupDialogChange()):_.error(o.message)})},$=()=>{s.value.name=""},i=c(),B=o=>{i.value=o,p.value=!0},p=c(!1),y=()=>{p.value=!p.value},L=()=>{i.value=null},S=()=>{te(i.value).then(o=>{o.state==200?(d.value=o.data,y()):_.error(o.message)})},T=o=>{le(o.id).then(e=>{e.state==200?d.value=e.data:_.error(e.message)})};return P(()=>{D()}),(o,e)=>{const u=z,I=H,A=J,F=K,C=Q,x=W,U=X;return G(),k(E,null,[(G(!0),k(E,null,h(d.value,(t,re)=>(G(),j(F,{class:"content",shadow:"hover","body-style":{flex:"auto"}},{default:n(()=>[l(A,{class:"content-body"},{default:n(()=>[a("div",ne,[a("div",null,[a("h1",null,M(t.name),1)])]),a("div",ae,[l(u,{link:"",type:"primary",onClick:V=>w(t.id)},{default:n(()=>e[8]||(e[8]=[m("权限及用户",-1)])),_:2,__:[8]},1032,["onClick"]),l(u,{link:"",type:"primary",icon:f(O),onClick:V=>B(t)},null,8,["icon","onClick"]),l(I,{title:"确定要删除吗?",onConfirm:V=>T(t)},{reference:n(()=>[l(u,{link:"",type:"danger",icon:f(q)},null,8,["icon"])]),_:2},1032,["onConfirm"])])]),_:2},1024)]),_:2},1024))),256)),l(U,{modelValue:f(v).addGroupDialog,"onUpdate:modelValue":e[3]||(e[3]=t=>f(v).addGroupDialog=t),title:"新建用户组",width:"700",onClose:$},{footer:n(()=>[a("div",null,[l(u,{onClick:e[1]||(e[1]=t=>f(v).addGroupDialogChange())},{default:n(()=>e[9]||(e[9]=[m("取消",-1)])),_:1,__:[9]}),l(u,{type:"primary",onClick:e[2]||(e[2]=t=>b())},{default:n(()=>e[10]||(e[10]=[m("添加",-1)])),_:1,__:[10]})])]),default:n(()=>[a("div",null,[l(x,{label:"用户组名称："},{default:n(()=>[l(C,{modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.name=t),placeholder:"请输入用户组名"},null,8,["modelValue"])]),_:1})])]),_:1},8,["modelValue"]),l(U,{modelValue:p.value,"onUpdate:modelValue":e[7]||(e[7]=t=>p.value=t),title:"编辑用户组",width:"700",onClose:L},{footer:n(()=>[a("div",null,[l(u,{onClick:e[5]||(e[5]=t=>y())},{default:n(()=>e[11]||(e[11]=[m("取消",-1)])),_:1,__:[11]}),l(u,{type:"primary",onClick:e[6]||(e[6]=t=>S())},{default:n(()=>e[12]||(e[12]=[m("更新",-1)])),_:1,__:[12]})])]),default:n(()=>[a("div",null,[l(x,{label:"用户组名称："},{default:n(()=>[l(C,{modelValue:i.value.name,"onUpdate:modelValue":e[4]||(e[4]=t=>i.value.name=t),placeholder:"请输入用户组名"},null,8,["modelValue"])]),_:1})])]),_:1},8,["modelValue"])],64)}}});const ie=Y(ue,[["__scopeId","data-v-2cab4643"]]);export{ie as default};
