import{h as $l,d as Il,b as p,u as Rl,S as Ie,o as ql,m as zl,G as Fl,s as T,C as hl,T as Ml,a as i,c as v,g as t,f as N,p as Ol,w as a,i as n,t as g,k as D,n as V,F as x,j as w,U as Re,q as d,O as be,V as qe,H as Al,W as re,X as Gl,Y as Yl,r as ze,Z as Pl,y as Hl,v as Wl,$ as Bl,a0 as Jl,a1 as Ql,a2 as Xl,a3 as Zl,a4 as Kl,P as et,x as lt,a5 as tt,a6 as at,a7 as st,E as nt,N as ot,a8 as ut,a9 as it,aa as rt,ab as dt,ac as mt,ad as pt,ae as vt,af as ft,Q as gt,_ as yt}from"./index-8f9ccc2f.js";import{g as kt}from"./index-9020ea85.js";function _t(){return $l({url:"/device/my",method:"GET"})}const bt={class:"add-project"},xt={style:{"font-size":"46px",color:"#33b8b9"}},wt=["src"],Vt={class:"view-card"},Lt={class:"dialog-footer"},Ct={class:"dialog-footer"},ct={class:"task-title"},Dt={class:"editTask"},Tt={class:"editTaskItem"},jt={class:"editTaskItem"},St={class:"editTaskItem"},Et={key:0,class:"editTaskItem"},Ut={key:1,class:"itemlist",style:{"padding-left":"120px"}},Nt={class:"editTaskItem"},$t={class:"itemlist",style:{"padding-left":"120px"}},It={style:{display:"flex","flex-direction":"column"}},Rt={class:"editTaskItem"},qt={class:"itemlist",style:{"padding-left":"120px"}},zt={class:"itemlist"},Ft={class:"itemlist",style:{"padding-left":"120px"}},ht={class:"editTaskItem"},Mt={class:"itemlist",style:{"padding-left":"120px"}},Ot={class:"editTaskItem"},At={class:"itemlist",style:{"padding-left":"120px"}},Gt={class:"editTaskItem"},Yt={class:"itemlist",style:{"padding-left":"120px"}},Pt={class:"editTaskItem"},Ht={class:"itemlist",style:{"padding-left":"120px"}},Wt={class:"item"},Bt={class:"dialog-footer"},Jt={class:"item"},Qt={class:"dialog-footer"},Xt={class:"item"},Zt={class:"dialog-footer"},Kt={class:"item"},ea={class:"dialog-footer"},la={class:"item"},ta={class:"dialog-footer"},aa={class:"item"},sa={class:"item"},na={class:"dialog-footer"},oa={class:"dialog-footer"},ua={key:0},ia={key:0},ra={class:"editTask"},da={style:{display:"flex","flex-wrap":"wrap"}},ma={style:{"margin-right":"5px"}},pa={key:0},va={key:1},fa={key:0},ga={key:1},ya={class:"editTask"},ka={class:"editTask"},_a={key:0},ba={key:0},xa={style:{display:"flex","flex-wrap":"wrap"}},wa={class:"itemlist2"},Va={style:{"margin-right":"10px"}},La={style:{display:"flex","flex-wrap":"wrap"}},Ca={class:"itemlist2"},ca={style:{"margin-right":"10px"}},Da={style:{display:"flex","flex-wrap":"wrap"}},Ta={class:"itemlist2"},ja={style:{"margin-right":"10px"}},Sa={style:{display:"flex","flex-wrap":"wrap"}},Ea={class:"itemlist2"},Ua={style:{"margin-right":"10px"}},Na={style:{display:"flex","flex-wrap":"wrap"}},$a={class:"itemlist2"},Ia={style:{"margin-right":"10px"}},Ra={style:{display:"flex","flex-wrap":"wrap"}},qa={class:"itemlist2"},za={style:{"margin-right":"10px"}},Fa={style:{display:"flex","flex-wrap":"wrap"}},ha={class:"itemlist2"},Ma={style:{"margin-right":"10px"}},Oa={class:"dialog-footer"},Aa={style:{width:"200px","text-align":"center"}},Ga=Il({__name:"index",setup(Ya){const ae=s=>s?re(s).format("YYYY年MM月DD日 HH:mm"):"未设置时间节点",R=s=>(s||re(new Date).format("YYYY-MM-DD"),re(s).format("YYYY-MM-DD")),q=s=>s?re(s).format("HH:mm:ss"):"00:00:00",Fe=p({"x-access-token":localStorage.getItem("x-access-token"),"x-access-type":localStorage.getItem("x-access-type")}),xe=Rl(),de=xe.params.courseId,j=p({id:"",name:"",parentId:"",cover:"",introduction:"",introduce:"",guidance:"",third:"",fourth:"",keyWord:"",packageId:"",isDelete:"",pkgs:"",version:""}),z=p([]),L=p([]);p(0),p(0);const r=p({caseId:de,projectName:"",useGroup:0,useRemote:0,groupLimit:2,date:[],task:[],students:[],remoteQo:null,semester:"",gradeClass:null}),me=p([]),pe=p([]);(()=>{let e=new Date().getFullYear();me.value=[{label:`${e}年上学期`,value:`${e}01`},{label:`${e}年下学期`,value:`${e}02`}]})();const S=p([null,null]),E=p([null,null]),C=p({startDate:R(S.value[0]),endDate:R(S.value[1]),startTime:q(E.value[0]),endTime:q(E.value[1]),appointmentDuration:60,appointmentCount:1,dayLimit:2,remoteDeviceIdList:[]}),we=()=>{C.value.startDate=R(S.value[0]),C.value.endDate=R(S.value[1]),C.value.startTime=q(E.value[0]),C.value.endTime=q(E.value[1])},he=[new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)],Ve=new Date(2e3,1,1,23,59,59),Me=[{label:"无限制",value:90},{label:"可预约当天",value:1},{label:"可预约今明两天",value:2},{label:"可预约一周内",value:7}],Le=p([]),Oe=()=>{_t().then(s=>{s.state==200?Le.value=s.data:T.error(s.message)})},M=p(!1),Ae=s=>{ve.value=s},ve=p([]),Ge=()=>{M.value=!1,C.value.remoteDeviceIdList=[],ve.value.forEach(s=>{C.value.remoteDeviceIdList.push(s.id)})},Ye=()=>{S.value[0]&&S.value[1]&&E.value[0]&&E.value[1]||(S.value=JSON.parse(JSON.stringify(r.value.date)),E.value=JSON.parse(JSON.stringify(r.value.date)),C.value.startDate=R(S.value[0]),C.value.endDate=R(S.value[1]),C.value.startTime=q(E.value[0]),C.value.endTime=q(E.value[1]))},O=p(!1),A=p([]),Pe=()=>{O.value=!1,r.value.students=fe.value},He=()=>{O.value=!0,fe.value=r.value.students},fe=p([]),We=s=>{fe.value=s},Ce=p([]),ce=p(),G=p(0),Be=()=>{G.value=1,$.value=!0,u.value.num=L.value[L.value.length-1].num+1,u.value.weighting=Math.round(100/(L.value.length+1)),u.value.taskName="",u.value.taskStartTime="",u.value.taskEndTime="",u.value.backDropList=[],u.value.requirementList=[],u.value.deliverableRequirementList=[],u.value.referenceFileList=[],u.value.referenceLinkList=[],u.value.attentionList=[],u.value.experimentalSubjectList=[],u.value.taskDetails=""},$=p(!1),u=p({num:null,weighting:null,taskName:"",taskStartTime:"",taskEndTime:"",taskDevice:null,taskDataTables:"",backDropList:[],requirementList:[],deliverableRequirementList:[],referenceLinkList:[],referenceFileList:[],attentionList:[],experimentalSubjectList:[],taskDetails:"",taskMdDoc:null,mdChapter:{courseId:null,id:null,name:""}}),De=p(),Je=s=>{G.value=0,De.value=s,$.value=!0;let e=JSON.stringify(L.value[s]);u.value=JSON.parse(e)},Qe=()=>{if(G.value==0){let s=JSON.stringify(u.value);L.value[De.value]=JSON.parse(s),$.value=!1}if(G.value==1){const s=Object.assign({},u.value);L.value.push(s),z.value.push(!0),$.value=!1,G.value=0,Te()}},Te=()=>{u.value.num=null,u.value.weighting=null,u.value.taskName="",u.value.taskStartTime="",u.value.taskEndTime="",u.value.taskDevice=null,u.value.taskDataTables="",u.value.backDropList=[],u.value.referenceFileList=[],u.value.deliverableRequirementList=[],u.value.referenceFileList=[],u.value.referenceLinkList=[],u.value.attentionList=[],u.value.experimentalSubjectList=[],u.value.taskDataTables="",u.value.taskMdDoc=null,u.value.mdChapter.id=null,u.value.mdChapter.courseId=null,u.value.mdChapter.name=""},Y=p(""),P=p(""),H=p(""),W=p(""),B=p(""),J=p(""),Q=p(""),X=p(!1),Z=p(!1),K=p(!1),ee=p(!1),le=p(!1),te=p(!1),Xe=()=>{if(Y.value!=""){let s={name:Y.value};u.value.backDropList.push(s),Y.value="",X.value=!1}},Ze=s=>{u.value.backDropList.splice(s,1)},Ke=()=>{if(P.value!=""){let s={name:P.value};u.value.requirementList.push(s),P.value="",Z.value=!1}},el=s=>{u.value.requirementList.splice(s,1)},ll=()=>{if(H.value!=""){let s={name:H.value};u.value.deliverableRequirementList.push(s),H.value="",K.value=!1}},tl=s=>{u.value.deliverableRequirementList.splice(s,1)},al=()=>{if(W.value!=""&&Q.value!=""){let s={name:W.value,url:Q.value};u.value.referenceLinkList.push(s),W.value="",Q.value="",ee.value=!1}},sl=s=>{u.value.referenceLinkList.splice(s,1)},nl=s=>{u.value.referenceFileList.splice(s,1)},ol=()=>{if(B.value!=""){let s={name:B.value};u.value.experimentalSubjectList.push(s),B.value="",le.value=!1}},ul=s=>{u.value.experimentalSubjectList.splice(s,1)},il=()=>{if(J.value!=""){let s={name:J.value};u.value.attentionList.push(s),J.value="",te.value=!1}},rl=s=>{u.value.attentionList.splice(s,1)},dl=s=>{(s.state=200)?u.value.referenceFileList.push(s.data):T.error("上传失败"+s.message)},ml=s=>{pl(s.filename)},pl=s=>{let e="/local-resource/file/"+s;window.open(e)},vl=(s,e,o)=>{const k=o.property;return e[k]===s},se=p(!1),fl=()=>{if(r.value.useRemote==1&&C.value.remoteDeviceIdList.length==0){T.warning("开起远程实验，但未选择任何远程设备");return}r.value.task=[];for(let s=0;s<L.value.length;s++)z.value[s]==!0&&r.value.task.push(L.value[s]);se.value=!0},ne=()=>{let s=0;for(let e=0;e<r.value.task.length;e++)s=s+r.value.task[e].weighting;return Math.round(100-s)},gl=()=>ne()>0?"color: var(--el-color-warning)":ne()<0?"color: var(--el-color-danger)":"color: var(--el-color-primary)",yl=()=>{let s=Math.round(100/r.value.task.length);for(let e=0;e<r.value.task.length;e++)r.value.task[e].weighting=s},kl=()=>{let s=0;for(let o=0;o<r.value.task.length;o++)s=s+r.value.task[o].weighting;let e=(100-s)/r.value.task.length;for(let o=0;o<r.value.task.length;o++)r.value.task[o].weighting=Math.round(e+r.value.task[o].weighting)},je=p(),oe=p(!1),y=Ie({caseId:"",projectName:"",date:[null,null],task:[],students:[],userGroup:0,groupLimit:2,useRemote:0,remoteQo:null,semester:"",gradeClass:""}),_l=Ie({caseId:[{required:!0,message:"没有caseId",trigger:"blur"}],projectName:[{required:!0,message:"没有课程名",trigger:"blur"}],date:[{required:!0,validator:function(s,e,o){e[0]==null||e[1]==null?o(new Error("课程起止时间错误")):o()},trigger:"blur"}],task:[{required:!0,validator:function(s,e,o){const k=[];for(let _=0;_<e.length;_++)e[_].num==null&&k.push("实验"+(_+1)+"没有编号"),e[_].taskName==""&&k.push("实验"+(_+1)+"没有名称");if(k.length>0){let _=k.join();o(new Error(_))}else o()},trigger:"blur"}],students:[{required:!0,validator:function(s,e,o){e.length==0?o(new Error("未添加学生")):o()},trigger:"change"}],semester:[{required:!0,validator:(s,e,o)=>{j.value.version>=4?e?o():o(new Error("未选择学期")):o()}}],gradeClass:[{required:!0,validator:(s,e,o)=>{j.value.version>=4?e?o():o(new Error("未选择班级")):o()}}]}),bl=async s=>{s&&await s.validate((e,o)=>{e?Ll():(console.log("error submit!",o),T.error("发布信息校验不通过，请检查"))})},xl=()=>{if(ne()!=0){T.error("实验权重剩余值不等于零，请重新分配");return}r.value.remoteQo=C.value,se.value=!1,y.caseId=r.value.caseId,y.projectName=r.value.projectName,y.date=r.value.date,y.task=r.value.task,y.students=r.value.students,y.userGroup=r.value.useGroup,y.groupLimit=r.value.groupLimit,y.useRemote=r.value.useRemote,y.remoteQo=r.value.remoteQo,y.semester=wl(r.value.semester),y.gradeClass=Vl(r.value.gradeClass),oe.value=!0},wl=s=>{let e=me.value.find(k=>k.value==s);return e?e.label:""},Vl=s=>{let e=[];pe.value.forEach(_=>{e=e.concat(_.majorClasses)});let o=e.find(_=>_.id==s);return o?o.name:""},Ll=()=>{const s=Gl.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});if(j.value.version>=4){let e=Object.assign({},r.value,{version:j.value.version});Yl(e).then(o=>{o.state==200?(T.success("发布成功"),ce.value=o.data,ze.push({name:"myproject"}),s.close()):(T.error("发布失败"+o.message),s.close())})}else{const e=Object.assign({},r.value);Pl(e).then(o=>{o.state==200?(T.success("发布成功"),ce.value=o.data,ze.push({name:"myproject"}),s.close()):(T.error("发布失败"+o.message),s.close())})}},Cl=s=>{let e=document.getElementById("taskItem"+s);z.value[s]==!1?e.style.filter="grayscale(100%)":e.style.filter=""};p({top:20,background:""});const Se=p(""),cl=()=>{window.scrollY||document.documentElement.scrollTop||document.body.scrollTop?Se.value="down":Se.value=""},Dl=p(0),Tl=p(0);ql(()=>{Ee(),window.addEventListener("resize",Ee)});const Ee=function(){Dl.value=window.innerWidth,Tl.value=window.innerHeight};return window.addEventListener("scroll",cl),zl(async()=>{await Fl(de).then(s=>{s.state==200?(j.value=s.data,r.value.projectName=j.value.name):T.error(s.message)}),await hl(de).then(s=>{if(s.state==200){L.value=s.data;for(let e=0;e<L.value.length;e++)z.value.push(!0)}else T.error(s.message)}),await Ml().then(s=>{if(s.state==200){A.value=s.data;let e=[];for(let o=0;o<A.value.length;o++)e.includes(A.value[o].studentClass)||e.push(A.value[o].studentClass);for(let o=0;o<e.length;o++)Ce.value.push({text:e[o],value:e[o]})}else T.error(s.message)}),await Oe(),kt().then(s=>{s.state==200?pe.value=s.data:T.error(s.message)})}),(s,e)=>{const o=Hl,k=Wl,_=Bl,b=Jl,F=Ql,ge=Xl,ye=Zl,jl=Kl,Ue=et,f=lt,ue=tt,Ne=at,h=st,ke=nt,c=ot,U=ut,ie=it,Sl=rt,_e=dt,El=mt,$e=pt,I=vt,Ul=ft,Nl=gt;return i(),v("div",bt,[t(Ol,{route:N(xe)},null,8,["route"]),t(o,{style:{padding:"20px calc(164px + 4.8vw)"}},{default:a(()=>[t(k,{span:15,style:{display:"flex","flex-direction":"column","justify-content":"center"}},{default:a(()=>[t(o,null,{default:a(()=>[n("h1",xt,g(r.value.projectName)+"课程",1)]),_:1})]),_:1}),t(k,{span:9},{default:a(()=>[j.value.cover?(i(),v("img",{key:0,src:"/local-resource/image/"+j.value.cover,alt:"",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,wt)):D("",!0)]),_:1})]),_:1}),n("div",Vt,[t($e,{model:r.value},{default:a(()=>[t(ke,{shadow:"never"},{default:a(()=>[t(o,null,{default:a(()=>e[64]||(e[64]=[n("h1",{style:{"font-size":"24px",color:"#33b8b9"}},"发布信息",-1)])),_:1,__:[64]}),t(o,{style:{"margin-top":"10px"}},{default:a(()=>[t(b,{label:"课程名称：",style:{width:"500px"}},{default:a(()=>[t(_,{modelValue:r.value.projectName,"onUpdate:modelValue":e[0]||(e[0]=l=>r.value.projectName=l)},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{style:{"margin-top":"10px"}},{default:a(()=>[t(k,{span:14,style:{"text-align":"center"}},{default:a(()=>[t(b,{label:"课程时间："},{default:a(()=>[t(F,{modelValue:r.value.date,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value.date=l),type:"datetimerange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",defaultTime:he,onChange:e[2]||(e[2]=l=>Ye())},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),j.value.version==4?(i(),V(o,{key:0},{default:a(()=>[t(k,{span:8},{default:a(()=>[t(b,{label:"学期：",prop:"semester"},{default:a(()=>[t(ye,{modelValue:r.value.semester,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value.semester=l),placeholder:"请选择学期"},{default:a(()=>[(i(!0),v(x,null,w(me.value,(l,m)=>(i(),V(ge,{key:m,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(k,{span:8},{default:a(()=>[t(b,{label:"班级：",prop:"gradeClass"},{default:a(()=>[t(ye,{modelValue:r.value.gradeClass,"onUpdate:modelValue":e[4]||(e[4]=l=>r.value.gradeClass=l)},{default:a(()=>[(i(!0),v(x,null,w(pe.value,l=>(i(),V(jl,{label:l.majorName,key:l.majorName},{default:a(()=>[(i(!0),v(x,null,w(l.majorClasses,m=>(i(),V(ge,{label:m.name,value:m.id,key:m.id},null,8,["label","value"]))),128))]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):D("",!0),t(o,null,{default:a(()=>[j.value.version!=4?(i(),V(k,{key:0,span:6,style:{"text-align":"center"}},{default:a(()=>[t(b,{label:"课程参与学生："},{default:a(()=>[t(f,{text:"",type:"primary",onClick:e[5]||(e[5]=l=>He())},{default:a(()=>[t(Ue,null,{default:a(()=>[t(N(Re))]),_:1}),e[65]||(e[65]=d("添加学生 ",-1))]),_:1,__:[65]})]),_:1})]),_:1})):D("",!0),t(k,{span:8},{default:a(()=>[t(b,{label:"学生分组实验："},{default:a(()=>[t(Ne,{modelValue:r.value.useGroup,"onUpdate:modelValue":e[6]||(e[6]=l=>r.value.useGroup=l)},{default:a(()=>[t(ue,{label:0},{default:a(()=>e[66]||(e[66]=[d("不分组",-1)])),_:1,__:[66]}),t(ue,{label:1},{default:a(()=>e[67]||(e[67]=[d("分组实验",-1)])),_:1,__:[67]})]),_:1},8,["modelValue"])]),_:1})]),_:1}),r.value.useGroup==1?(i(),V(k,{key:1,span:6},{default:a(()=>[t(b,{label:"分组最大人数："},{default:a(()=>[t(h,{modelValue:r.value.groupLimit,"onUpdate:modelValue":e[7]||(e[7]=l=>r.value.groupLimit=l),min:2,max:20},null,8,["modelValue"])]),_:1})]),_:1})):D("",!0)]),_:1}),t(o,null,{default:a(()=>[t(b,{label:"远程实验："},{default:a(()=>[t(Ne,{modelValue:r.value.useRemote,"onUpdate:modelValue":e[8]||(e[8]=l=>r.value.useRemote=l)},{default:a(()=>[t(ue,{label:0},{default:a(()=>e[68]||(e[68]=[d("关闭",-1)])),_:1,__:[68]}),t(ue,{label:1},{default:a(()=>e[69]||(e[69]=[d("开启",-1)])),_:1,__:[69]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(U,{modelValue:O.value,"onUpdate:modelValue":e[11]||(e[11]=l=>O.value=l),title:"添加学生"},{footer:a(()=>[n("span",Lt,[t(f,{onClick:e[9]||(e[9]=l=>O.value=!1)},{default:a(()=>e[70]||(e[70]=[d("取消",-1)])),_:1,__:[70]}),t(f,{type:"primary",onClick:e[10]||(e[10]=l=>Pe())},{default:a(()=>e[71]||(e[71]=[d(" 确定 ",-1)])),_:1,__:[71]})])]),default:a(()=>[t(N(be),{height:"400",data:A.value,ref:"multipleTableRef",onSelectionChange:We},{default:a(()=>[t(c,{type:"selection",width:"40"}),t(c,{type:"index",width:"40"}),t(c,{prop:"studentId",sortable:"",label:"学号"}),t(c,{prop:"studentName",label:"姓名"}),t(c,{prop:"studentClass",label:"班级",filters:Ce.value,"filter-method":vl},null,8,["filters"]),t(c,{prop:"collage",label:"学院"}),t(c,{prop:"major",label:"专业"}),t(c,{prop:"studentGrade",label:"年级"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),r.value.useRemote==1?(i(),V(ke,{key:0,style:{"margin-top":"30px"},shadow:"never"},{default:a(()=>[t(o,null,{default:a(()=>e[72]||(e[72]=[n("h1",{style:{"font-size":"24px",color:"#33b8b9"}},"远程信息",-1)])),_:1,__:[72]}),t(o,{style:{"margin-top":"20px"}},{default:a(()=>[t(b,{label:"远程设备："},{default:a(()=>[t(f,{text:"",type:"primary",onClick:e[12]||(e[12]=l=>M.value=!0)},{default:a(()=>[t(Ue,null,{default:a(()=>[t(N(Re))]),_:1}),e[73]||(e[73]=d("选择设备 ",-1))]),_:1,__:[73]})]),_:1})]),_:1}),t(o,null,{default:a(()=>[t(b,null,{label:a(()=>[t(o,null,{default:a(()=>[e[74]||(e[74]=n("span",null,"远程设备开放日期",-1)),t(ie,{class:"box-item",effect:"light",content:"表示设备在哪些日期可以远程开放给学生",placement:"top-start"},{default:a(()=>[t(f,{type:"primary",icon:N(qe),size:"large",link:""},null,8,["icon"])]),_:1}),e[75]||(e[75]=n("span",null,"：",-1))]),_:1,__:[74,75]})]),default:a(()=>[t(F,{modelValue:S.value,"onUpdate:modelValue":e[13]||(e[13]=l=>S.value=l),type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small",onChange:e[14]||(e[14]=l=>we())},null,8,["modelValue"])]),_:1})]),_:1}),t(o,null,{default:a(()=>[t(b,null,{label:a(()=>[t(o,null,{default:a(()=>[e[76]||(e[76]=n("span",null,"远程设备开放时间",-1)),t(ie,{class:"box-item",effect:"light",content:"表示设备在开放日期内每天可以被学生远程操作的时间段",placement:"top-start"},{default:a(()=>[t(f,{type:"primary",icon:N(qe),size:"large",link:""},null,8,["icon"])]),_:1}),e[77]||(e[77]=n("span",null,"：",-1))]),_:1,__:[76,77]})]),default:a(()=>[t(Sl,{modelValue:E.value,"onUpdate:modelValue":e[15]||(e[15]=l=>E.value=l),"is-range":"","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",size:"small",onChange:e[16]||(e[16]=l=>we())},null,8,["modelValue"])]),_:1})]),_:1}),t(o,null,{default:a(()=>[t(b,{label:"学生远程单次操作时长(分钟)："},{default:a(()=>[t(h,{modelValue:C.value.appointmentDuration,"onUpdate:modelValue":e[17]||(e[17]=l=>C.value.appointmentDuration=l),min:1,size:"small"},null,8,["modelValue"])]),_:1})]),_:1}),t(o,null,{default:a(()=>[t(b,{label:"每位学生最大可远程操作次数："},{default:a(()=>[t(h,{modelValue:C.value.appointmentCount,"onUpdate:modelValue":e[18]||(e[18]=l=>C.value.appointmentCount=l),min:1,size:"small"},null,8,["modelValue"])]),_:1})]),_:1}),t(o,null,{default:a(()=>[t(b,{label:"学生预约限制："},{default:a(()=>[t(ye,{placeholder:"预约限制",size:"small",modelValue:C.value.dayLimit,"onUpdate:modelValue":e[19]||(e[19]=l=>C.value.dayLimit=l),style:{width:"200px"}},{default:a(()=>[(i(),v(x,null,w(Me,l=>t(ge,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):D("",!0),t(U,{modelValue:M.value,"onUpdate:modelValue":e[22]||(e[22]=l=>M.value=l),title:"选择远程设备",width:"50%"},{footer:a(()=>[n("span",Ct,[t(f,{onClick:e[20]||(e[20]=l=>M.value=!1)},{default:a(()=>e[78]||(e[78]=[d("取消",-1)])),_:1,__:[78]}),t(f,{type:"primary",onClick:e[21]||(e[21]=l=>Ge())},{default:a(()=>e[79]||(e[79]=[d(" 确定 ",-1)])),_:1,__:[79]})])]),default:a(()=>[t(N(be),{height:"400",data:Le.value,onSelectionChange:Ae},{default:a(()=>[t(c,{type:"selection",width:"40"}),t(c,{type:"index",width:"40"}),t(c,{prop:"snId",sortable:"",label:"SNID"}),t(c,{prop:"name",label:"名称"}),t(c,{prop:"ip",label:"IP"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),t(ke,{style:{"margin-top":"30px"},shadow:"never"},{default:a(()=>[t(o,null,{default:a(()=>e[80]||(e[80]=[n("h1",{style:{"font-size":"24px",color:"#33b8b9"}},"实验信息",-1)])),_:1,__:[80]}),t(o,{style:{"margin-top":"20px"}},{default:a(()=>[t(k,{span:4,style:{"text-align":"center"}},{default:a(()=>[t(f,{type:"warning",link:"",onClick:Be},{default:a(()=>e[81]||(e[81]=[d("添加实验",-1)])),_:1,__:[81]})]),_:1}),t(k,{span:16,style:{"text-align":"center"}},{default:a(()=>e[82]||(e[82]=[n("h2",null,"实验时间",-1)])),_:1,__:[82]}),t(k,{span:4,style:{"text-align":"center"}},{default:a(()=>e[83]||(e[83]=[n("h2",null,"选择发布",-1)])),_:1,__:[83]})]),_:1}),L.value?(i(!0),v(x,{key:0},w(L.value.length,l=>(i(),V(o,{id:"taskItem"+(l-1),style:{"min-height":"200px",display:"flex","flex-direction":"row"}},{default:a(()=>[t(_e),t(k,{span:4,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},{default:a(()=>[n("div",ct,[t(f,{class:"btn",type:"warning",link:"",onClick:m=>Je(l-1)},{default:a(()=>[d(g(L.value[l-1].num+"."+L.value[l-1].taskName),1)]),_:2},1032,["onClick"])])]),_:2},1024),t(k,{span:16,class:"task-item"},{default:a(()=>[t(o,null,{default:a(()=>[t(F,{modelValue:L.value[l-1].taskStartTime,"onUpdate:modelValue":m=>L.value[l-1].taskStartTime=m,type:"datetime",placeholder:"选择开始日期时间",size:"small",style:{"margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),e[84]||(e[84]=n("span",null,"-",-1)),t(F,{modelValue:L.value[l-1].taskEndTime,"onUpdate:modelValue":m=>L.value[l-1].taskEndTime=m,type:"datetime",placeholder:"选择结束日期时间",size:"small",style:{"margin-left":"10px"},defaultTime:N(Ve)},null,8,["modelValue","onUpdate:modelValue","defaultTime"])]),_:2,__:[84]},1024)]),_:2},1024),t(k,{span:4,class:"task-item"},{default:a(()=>[(i(),V(El,{key:"box"+l,modelValue:z.value[l-1],"onUpdate:modelValue":m=>z.value[l-1]=m,onChange:m=>Cl(l-1),size:"large"},null,8,["modelValue","onUpdate:modelValue","onChange"]))]),_:2},1024)]),_:2},1032,["id"]))),256)):D("",!0)]),_:1})]),_:1},8,["model"]),t(o,{style:{"margin-top":"30px",display:"flex","justify-content":"center"}},{default:a(()=>[t(f,{type:"primary",style:{width:"200px"},onClick:e[23]||(e[23]=l=>fl())},{default:a(()=>e[85]||(e[85]=[d(" 课时权重设置 ",-1)])),_:1,__:[85]})]),_:1})]),t(U,{modelValue:$.value,"onUpdate:modelValue":e[55]||(e[55]=l=>$.value=l),title:"编辑实验",width:"70%",onClosed:e[56]||(e[56]=l=>Te())},{default:a(()=>[n("div",Dt,[n("div",Tt,[e[86]||(e[86]=n("span",{style:{width:"120px"}},"实验编号",-1)),t(h,{min:1,modelValue:u.value.num,"onUpdate:modelValue":e[24]||(e[24]=l=>u.value.num=l)},null,8,["modelValue"])]),n("div",jt,[e[87]||(e[87]=n("span",{style:{width:"120px"}},"实验名称",-1)),t(_,{modelValue:u.value.taskName,"onUpdate:modelValue":e[25]||(e[25]=l=>u.value.taskName=l),style:{"max-width":"350px"}},null,8,["modelValue"])]),n("div",St,[e[88]||(e[88]=n("span",{style:{width:"120px"}},"实验时间",-1)),t(F,{modelValue:u.value.taskStartTime,"onUpdate:modelValue":e[26]||(e[26]=l=>u.value.taskStartTime=l),type:"datetime",placeholder:"选择开始日期时间",style:{"max-width":"200px"}},null,8,["modelValue"]),t(F,{modelValue:u.value.taskEndTime,"onUpdate:modelValue":e[27]||(e[27]=l=>u.value.taskEndTime=l),type:"datetime",placeholder:"选择结束日期时间",style:{"max-width":"200px","margin-left":"20px"},defaultTime:N(Ve)},null,8,["modelValue","defaultTime"])]),u.value.taskMdDoc?(i(),v("div",Et,e[89]||(e[89]=[n("span",{style:{width:"120px"}},"实验指导书",-1)]))):D("",!0),u.value.taskMdDoc?(i(),v("div",Ut,[n("span",null,g(u.value.mdChapter.name),1)])):D("",!0),u.value.taskMdDoc?(i(),V(_e,{key:2})):D("",!0),n("div",Nt,[e[91]||(e[91]=n("span",{style:{width:"120px"}},"实验背景",-1)),t(f,{type:"primary",link:"",onClick:e[28]||(e[28]=l=>X.value=!0)},{default:a(()=>e[90]||(e[90]=[d("添加",-1)])),_:1,__:[90]})]),n("div",$t,[n("div",It,[(i(!0),v(x,null,w(u.value.backDropList.length,l=>(i(),V(I,{key:l,size:"small",closable:"",onClose:m=>Ze(l-1),style:{"margin-right":"10px","margin-bottom":"10px"}},{default:a(()=>[d(g(u.value.backDropList[l-1].name),1)]),_:2},1032,["onClose"]))),128))])]),n("div",Rt,[e[93]||(e[93]=n("span",{style:{width:"120px"}},"实验目的",-1)),t(f,{type:"primary",link:"",onClick:e[29]||(e[29]=l=>Z.value=!0)},{default:a(()=>e[92]||(e[92]=[d("添加",-1)])),_:1,__:[92]})]),n("div",qt,[(i(!0),v(x,null,w(u.value.requirementList.length,l=>(i(),V(I,{key:l,size:"small",closable:"",onClose:m=>el(l-1),style:{"margin-right":"10px","margin-bottom":"10px","flex-wrap":"wrap"}},{default:a(()=>[d(g(u.value.requirementList[l-1].name),1)]),_:2},1032,["onClose"]))),128))]),n("div",zt,[e[95]||(e[95]=n("span",{style:{width:"120px"}},"实验对象/器件",-1)),t(f,{type:"primary",link:"",onClick:e[30]||(e[30]=l=>le.value=!0)},{default:a(()=>e[94]||(e[94]=[d("添加",-1)])),_:1,__:[94]})]),n("div",Ft,[(i(!0),v(x,null,w(u.value.experimentalSubjectList.length,l=>(i(),V(I,{key:l,size:"small",closable:"",onClose:m=>ul(l-1),style:{"margin-right":"10px","margin-bottom":"10px","flex-wrap":"wrap"}},{default:a(()=>[d(g(u.value.experimentalSubjectList[l-1].name),1)]),_:2},1032,["onClose"]))),128))]),n("div",ht,[e[97]||(e[97]=n("span",{style:{width:"120px"}},"实验要求",-1)),t(f,{type:"primary",link:"",onClick:e[31]||(e[31]=l=>K.value=!0)},{default:a(()=>e[96]||(e[96]=[d("添加",-1)])),_:1,__:[96]})]),n("div",Mt,[(i(!0),v(x,null,w(u.value.deliverableRequirementList.length,l=>(i(),V(I,{key:l,size:"small",closable:"",onClose:m=>tl(l-1),style:{"margin-right":"10px","margin-bottom":"10px"}},{default:a(()=>[d(g(u.value.deliverableRequirementList[l-1].name),1)]),_:2},1032,["onClose"]))),128))]),n("div",Ot,[e[99]||(e[99]=n("span",{style:{width:"120px"}},"注意事项",-1)),t(f,{type:"primary",link:"",onClick:e[32]||(e[32]=l=>te.value=!0)},{default:a(()=>e[98]||(e[98]=[d("添加",-1)])),_:1,__:[98]})]),n("div",At,[(i(!0),v(x,null,w(u.value.attentionList.length,l=>(i(),V(I,{key:l,size:"small",closable:"",onClose:m=>rl(l-1),style:{"margin-right":"10px","margin-bottom":"10px"}},{default:a(()=>[d(g(u.value.attentionList[l-1].name),1)]),_:2},1032,["onClose"]))),128))]),n("div",Gt,[e[101]||(e[101]=n("span",{style:{width:"120px"}},"实验指导",-1)),t(Ul,{class:"upload",action:"/local-resource/upfile",headers:Fe.value,multiple:"","on-success":dl,"show-file-list":!1},{default:a(()=>[t(f,{type:"primary",link:""},{default:a(()=>e[100]||(e[100]=[d("上传",-1)])),_:1,__:[100]})]),_:1},8,["headers"])]),n("div",Yt,[(i(!0),v(x,null,w(u.value.referenceFileList.length,l=>(i(),V(I,{key:l,size:"small",closable:"",onClose:m=>nl(l-1),style:{"margin-right":"10px","margin-bottom":"10px"}},{default:a(()=>[t(Nl,{onClick:m=>ml(u.value.referenceFileList[l-1])},{default:a(()=>[d(g(u.value.referenceFileList[l-1].originFilename),1)]),_:2},1032,["onClick"])]),_:2},1032,["onClose"]))),128))]),n("div",Pt,[e[103]||(e[103]=n("span",{style:{width:"120px"}},"实验参考链接",-1)),t(f,{type:"primary",link:"",onClick:e[33]||(e[33]=l=>ee.value=!0)},{default:a(()=>e[102]||(e[102]=[d("添加",-1)])),_:1,__:[102]})]),n("div",Ht,[(i(!0),v(x,null,w(u.value.referenceLinkList.length,l=>(i(),V(I,{key:l,size:"small",closable:"",onClose:m=>sl(l-1),style:{"margin-right":"10px","margin-bottom":"10px"}},{default:a(()=>[d(g(u.value.referenceLinkList[l-1].name+"："+u.value.referenceLinkList[l-1].url),1)]),_:2},1032,["onClose"]))),128))])]),t(U,{modelValue:X.value,"onUpdate:modelValue":e[36]||(e[36]=l=>X.value=l),width:"50%",title:"新增实验背景","append-to-body":""},{footer:a(()=>[n("span",Bt,[t(f,{onClick:e[35]||(e[35]=l=>X.value=!1)},{default:a(()=>e[105]||(e[105]=[d("取消",-1)])),_:1,__:[105]}),t(f,{type:"primary",onClick:Xe},{default:a(()=>e[106]||(e[106]=[d(" 添加 ",-1)])),_:1,__:[106]})])]),default:a(()=>[n("div",Wt,[e[104]||(e[104]=n("span",{style:{width:"120px"}},"实验背景：",-1)),t(_,{modelValue:Y.value,"onUpdate:modelValue":e[34]||(e[34]=l=>Y.value=l),autosize:{minRows:2},type:"textarea",placeholder:"请输入实验背景，建议分段落添加"},null,8,["modelValue"])])]),_:1},8,["modelValue"]),t(U,{modelValue:Z.value,"onUpdate:modelValue":e[39]||(e[39]=l=>Z.value=l),width:"50%",title:"新增实验目的","append-to-body":""},{footer:a(()=>[n("span",Qt,[t(f,{onClick:e[38]||(e[38]=l=>Z.value=!1)},{default:a(()=>e[108]||(e[108]=[d("取消",-1)])),_:1,__:[108]}),t(f,{type:"primary",onClick:Ke},{default:a(()=>e[109]||(e[109]=[d(" 添加 ",-1)])),_:1,__:[109]})])]),default:a(()=>[n("div",Jt,[e[107]||(e[107]=n("span",{style:{width:"120px"}},"实验目的：",-1)),t(_,{modelValue:P.value,"onUpdate:modelValue":e[37]||(e[37]=l=>P.value=l)},null,8,["modelValue"])])]),_:1},8,["modelValue"]),t(U,{modelValue:le.value,"onUpdate:modelValue":e[42]||(e[42]=l=>le.value=l),width:"50%",title:"新增实验对象/器件","append-to-body":""},{footer:a(()=>[n("span",Zt,[t(f,{onClick:e[41]||(e[41]=l=>le.value=!1)},{default:a(()=>e[111]||(e[111]=[d("取消",-1)])),_:1,__:[111]}),t(f,{type:"primary",onClick:ol},{default:a(()=>e[112]||(e[112]=[d(" 添加 ",-1)])),_:1,__:[112]})])]),default:a(()=>[n("div",Xt,[e[110]||(e[110]=n("span",{style:{width:"120px"}},"实验器件：",-1)),t(_,{modelValue:B.value,"onUpdate:modelValue":e[40]||(e[40]=l=>B.value=l)},null,8,["modelValue"])])]),_:1},8,["modelValue"]),t(U,{modelValue:K.value,"onUpdate:modelValue":e[45]||(e[45]=l=>K.value=l),width:"50%",title:"新增实验要求","append-to-body":""},{footer:a(()=>[n("span",ea,[t(f,{onClick:e[44]||(e[44]=l=>K.value=!1)},{default:a(()=>e[114]||(e[114]=[d("取消",-1)])),_:1,__:[114]}),t(f,{type:"primary",onClick:ll},{default:a(()=>e[115]||(e[115]=[d(" 添加 ",-1)])),_:1,__:[115]})])]),default:a(()=>[n("div",Kt,[e[113]||(e[113]=n("span",{style:{width:"120px"}},"实验要求：",-1)),t(_,{modelValue:H.value,"onUpdate:modelValue":e[43]||(e[43]=l=>H.value=l)},null,8,["modelValue"])])]),_:1},8,["modelValue"]),t(U,{modelValue:te.value,"onUpdate:modelValue":e[48]||(e[48]=l=>te.value=l),width:"50%",title:"新增实验对象/器件","append-to-body":""},{footer:a(()=>[n("span",ta,[t(f,{onClick:e[47]||(e[47]=l=>te.value=!1)},{default:a(()=>e[117]||(e[117]=[d("取消",-1)])),_:1,__:[117]}),t(f,{type:"primary",onClick:il},{default:a(()=>e[118]||(e[118]=[d(" 添加 ",-1)])),_:1,__:[118]})])]),default:a(()=>[n("div",la,[e[116]||(e[116]=n("span",{style:{width:"120px"}},"实验器件：",-1)),t(_,{modelValue:J.value,"onUpdate:modelValue":e[46]||(e[46]=l=>J.value=l)},null,8,["modelValue"])])]),_:1},8,["modelValue"]),t(U,{modelValue:ee.value,"onUpdate:modelValue":e[52]||(e[52]=l=>ee.value=l),width:"50%",title:"新增参考链接","append-to-body":""},{footer:a(()=>[n("span",na,[t(f,{onClick:e[51]||(e[51]=l=>ee.value=!1)},{default:a(()=>e[121]||(e[121]=[d("取消",-1)])),_:1,__:[121]}),t(f,{type:"primary",onClick:al},{default:a(()=>e[122]||(e[122]=[d(" 添加 ",-1)])),_:1,__:[122]})])]),default:a(()=>[n("div",aa,[e[119]||(e[119]=n("span",{style:{width:"120px"}},"名称：",-1)),t(_,{modelValue:W.value,"onUpdate:modelValue":e[49]||(e[49]=l=>W.value=l)},null,8,["modelValue"])]),n("div",sa,[e[120]||(e[120]=n("span",{style:{width:"120px"}},"URL:",-1)),t(_,{modelValue:Q.value,"onUpdate:modelValue":e[50]||(e[50]=l=>Q.value=l)},null,8,["modelValue"])])]),_:1},8,["modelValue"])]),footer:a(()=>[n("span",oa,[t(f,{onClick:e[53]||(e[53]=l=>$.value=!1)},{default:a(()=>e[123]||(e[123]=[d("取消",-1)])),_:1,__:[123]}),t(f,{type:"primary",onClick:e[54]||(e[54]=l=>Qe())},{default:a(()=>e[124]||(e[124]=[d(" 确定 ",-1)])),_:1,__:[124]})])]),_:1},8,["modelValue"]),t(U,{modelValue:oe.value,"onUpdate:modelValue":e[59]||(e[59]=l=>oe.value=l),width:"70%",title:"确认发布"},{footer:a(()=>[n("span",Oa,[t(f,{onClick:e[57]||(e[57]=l=>oe.value=!1)},{default:a(()=>e[135]||(e[135]=[d("取消",-1)])),_:1,__:[135]}),t(f,{type:"primary",onClick:e[58]||(e[58]=l=>bl(je.value))},{default:a(()=>e[136]||(e[136]=[d(" 确定 ",-1)])),_:1,__:[136]})])]),default:a(()=>[t($e,{ref_key:"ruleFormRef",ref:je,"status-icon":"",model:y,rules:_l},{default:a(()=>[t(b,{label:"课程名称：",prop:"projectName"},{default:a(()=>[n("span",null,g(y.projectName),1)]),_:1}),t(b,{label:"课程时间：",prop:"date"},{default:a(()=>[y.date.length==2?(i(),v("span",ua,g(ae(y.date[0])+" -- "+ae(y.date[1])),1)):D("",!0)]),_:1}),j.value.version>=4?(i(),v("div",ia,[t(b,{label:"学期",prop:"semester"},{default:a(()=>[n("span",null,g(y.semester),1)]),_:1}),t(b,{label:"班级",prop:"gradeClass"},{default:a(()=>[n("span",null,g(y.gradeClass),1)]),_:1})])):D("",!0),j.value.version!=4?(i(),V(b,{key:1,label:"参与学生：",prop:"students"},{default:a(()=>[n("div",ra,[n("div",null,[n("span",null,g(y.students.length+"人参与"),1)]),n("div",da,[(i(!0),v(x,null,w(y.students,l=>(i(),v("span",ma,g(l.studentName),1))),256))])])]),_:1})):D("",!0),t(b,{label:"分组实验："},{default:a(()=>[y.userGroup==1?(i(),v("span",pa,"开启，分组人数限制"+g(y.groupLimit),1)):(i(),v("span",va,"关闭"))]),_:1}),t(b,{label:"远程实验："},{default:a(()=>[y.useRemote==1?(i(),v("div",fa,[t(o,null,{default:a(()=>e[125]||(e[125]=[n("span",null," 远程设备： ",-1)])),_:1,__:[125]}),(i(!0),v(x,null,w(ve.value,(l,m)=>(i(),V(o,null,{default:a(()=>[d(g(l.name),1)]),_:2},1024))),256))])):(i(),v("span",ga,"关闭"))]),_:1}),t(b,{label:"实验列表：",prop:"task"},{default:a(()=>[n("div",ya,[(i(!0),v(x,null,w(y.task,l=>(i(),v("div",ka,[n("div",null,g("实验"+l.num+"："+l.taskName),1),n("div",null,[e[126]||(e[126]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"实验时间：",-1)),l.taskStartTime&&l.taskEndTime?(i(),v("span",_a,g(ae(l.taskStartTime)+" -- "+ae(l.taskEndTime)),1)):D("",!0)]),n("div",null,[e[127]||(e[127]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"实验指导书：",-1)),l.taskMdDoc?(i(),v("span",ba,g(l.mdChapter.name),1)):D("",!0)]),n("div",xa,[e[128]||(e[128]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"实验背景：",-1)),n("div",wa,[(i(!0),v(x,null,w(l.backDropList.length,m=>(i(),v("p",Va,g(l.backDropList[m-1].name),1))),256))])]),n("div",La,[e[129]||(e[129]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"实验目的：",-1)),n("div",Ca,[(i(!0),v(x,null,w(l.requirementList.length,m=>(i(),v("span",ca,g(m+"."+l.requirementList[m-1].name),1))),256))])]),n("div",Da,[e[130]||(e[130]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"实验对象/器件：",-1)),n("div",Ta,[(i(!0),v(x,null,w(l.experimentalSubjectList.length,m=>(i(),v("span",ja,g(m+"."+l.experimentalSubjectList[m-1].name),1))),256))])]),n("div",Sa,[e[131]||(e[131]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"实验要求：",-1)),n("div",Ea,[(i(!0),v(x,null,w(l.deliverableRequirementList.length,m=>(i(),v("span",Ua,g(m+"."+l.deliverableRequirementList[m-1].name),1))),256))])]),n("div",Na,[e[132]||(e[132]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"注意事项：",-1)),n("div",$a,[(i(!0),v(x,null,w(l.attentionList.length,m=>(i(),v("span",Ia,g(m+"."+l.attentionList[m-1].name),1))),256))])]),n("div",Ra,[e[133]||(e[133]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"实验指导：",-1)),n("div",qa,[(i(!0),v(x,null,w(l.referenceFileList.length,m=>(i(),v("span",za,g(m+"."+l.referenceFileList[m-1].originFilename),1))),256))])]),n("div",Fa,[e[134]||(e[134]=n("span",{style:{"margin-right":"10px",color:"#33b8b9"}},"参考链接：",-1)),n("div",ha,[(i(!0),v(x,null,w(l.referenceLinkList.length,m=>(i(),v("span",Ma,g(m+"."+l.referenceLinkList[m-1].name+"："+l.referenceLinkList[m-1].url),1))),256))])]),t(_e,{"border-style":"dashed"})]))),256))])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),t(U,{modelValue:se.value,"onUpdate:modelValue":e[63]||(e[63]=l=>se.value=l),width:"70%",title:"实验课时权重设置"},{default:a(()=>[t(o,{style:Al([gl(),{"font-size":"20px"}])},{default:a(()=>[d(" 剩余权重："+g(ne())+"% ",1)]),_:1},8,["style"]),t(o,null,{default:a(()=>e[137]||(e[137]=[d(" 学生本课程最终成绩 = (实验i成绩 X 实验i权重) 求和 ",-1)])),_:1,__:[137]}),t(o,{style:{display:"flex","flex-direction":"row","justify-content":"space-between",margin:"10px 0"}},{default:a(()=>[n("div",null,[t(ie,{class:"box-item",content:"权重只能按整数百分比分配，如果无法除尽，需要手动分配剩余权重",placement:"right-start"},{default:a(()=>[t(f,{link:"",type:"primary",onClick:e[60]||(e[60]=l=>kl())},{default:a(()=>e[138]||(e[138]=[d("平均分配剩余权重",-1)])),_:1,__:[138]})]),_:1})]),n("div",Aa,[t(ie,{class:"box-item",effect:"dark",content:"所有实验权重一致，按平均值分配",placement:"left-start"},{default:a(()=>[t(f,{link:"",type:"primary",onClick:e[61]||(e[61]=l=>yl())},{default:a(()=>e[139]||(e[139]=[d("重设实验权重",-1)])),_:1,__:[139]})]),_:1})])]),_:1}),t(N(be),{data:r.value.task,style:{width:"100%"},border:!0},{default:a(()=>[t(c,{label:"实验编号",width:"100",align:"center"},{default:a(l=>[n("div",null,g(l.row.num),1)]),_:1}),t(c,{label:"实验名称"},{default:a(l=>[n("div",null,g(l.row.taskName),1)]),_:1}),t(c,{label:"课时",width:"200",align:"center"},{default:a(l=>[n("div",null,[t(h,{modelValue:l.row.classHour,"onUpdate:modelValue":m=>l.row.classHour=m,step:1,min:0,max:100,size:"small"},null,8,["modelValue","onUpdate:modelValue"])])]),_:1}),t(c,{label:"权重占比/%",width:"200",align:"center"},{default:a(l=>[n("div",null,[t(h,{modelValue:l.row.weighting,"onUpdate:modelValue":m=>l.row.weighting=m,step:1,min:0,max:100,size:"small"},null,8,["modelValue","onUpdate:modelValue"])])]),_:1})]),_:1},8,["data"]),t(o,{style:{"margin-top":"30px",display:"flex","justify-content":"center"}},{default:a(()=>[t(f,{type:"primary",style:{width:"200px"},onClick:e[62]||(e[62]=l=>xl())},{default:a(()=>e[140]||(e[140]=[d(" 发布 ",-1)])),_:1,__:[140]})]),_:1})]),_:1},8,["modelValue"])])}}});const Ba=yt(Ga,[["__scopeId","data-v-8cfb851c"]]);export{Ba as default};
