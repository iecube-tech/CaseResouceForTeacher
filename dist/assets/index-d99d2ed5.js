import{d as E,u as N,b as s,m as M,o as z,D as S,a as B,c as D,i as t,g as n,w as u,t as b,L as c,E as G,v as I,y as P,ab as R}from"./index-8f9ccc2f.js";import{s as j}from"./sameCaseProjects-030380d6.js";const L={class:"history"},X={style:{"text-align":"end","padding-right":"10px","font-size":"20px","font-weight":"bold"}},Y={style:{color:"#f4a901"}},V={style:{"text-align":"end","padding-right":"10px","font-size":"20px","font-weight":"bold"}},U={style:{color:"#f4a901"}},K=E({__name:"index",setup(q){const k=N().params.projectId;s({numberOfCompleter:null,numberOfParticipant:null,personnelDistributions:[{taskNum:null,studentNum:null}],taskAverages:[{taskNum:null,averageGrade:null}],taskMedians:[{taskNum:null,medianGrade:null}],tagsCount:[{item:null,count:null}]});const a=s({numberOfCompleter:null,numberOfParticipant:null,taskAverages:[{taskNum:null,averageGrade:null}],taskMedians:[{taskNum:null,medianGrade:null}],taskTagCountList:[{taskNum:null,tagsCount:[{item:null,count:null}]}],tagsCount:[{item:null,count:null}]}),m=s([]),v=s([]),g=s([]),f=s([]),y=s([]),h=s([]);M(()=>{j(k).then(d=>{if(d.state==200){a.value=d.data;for(let e=0;e<a.value.taskAverages.length;e++)m.value.push("实验"+a.value.taskAverages[e].taskNum),v.value.push(a.value.taskAverages[e].averageGrade);for(let e=0;e<a.value.taskMedians.length;e++)g.value.push("实验"+a.value.taskMedians[e].taskNum),f.value.push(a.value.taskMedians[e].medianGrade);for(let e=0;e<a.value.tagsCount.length;e++)y.value.push(a.value.tagsCount[e].item),h.value.push(a.value.tagsCount[e].count)}})});const w={xAxis:{type:"category",data:m.value},yAxis:{type:"value"},series:[{data:v.value,type:"bar",itemStyle:{color:"#fbedd0",borderRadius:[5,5,0,0]},emphasis:{itemStyle:{color:"#f4a901"}}}],tooltip:{trigger:"axis",formatter:"{b0}: {c0}分"}},C={xAxis:{type:"category",data:g.value},yAxis:{type:"value"},series:[{data:f.value,type:"bar",itemStyle:{color:"#fbedd0",borderRadius:[5,5,0,0]},emphasis:{itemStyle:{color:"#f4a901"}}}],tooltip:{trigger:"axis",formatter:"{b0}: {c0}分"}},T={xAxis:{type:"category",data:y.value},yAxis:{type:"value"},series:[{data:h.value,type:"bar",itemStyle:{color:"#fbedd0",borderRadius:[5,5,0,0]},emphasis:{itemStyle:{color:"#f4a901"}}}],tooltip:{trigger:"axis",formatter:"{b0}: {c0}个"}};let l=null,o=null,i=null;function r(){l&&(l.dispose(),l=null),o&&(o.dispose(),o=null),i&&(i.dispose(),i=null)}function A(){l=c(document.getElementById("chartOne")),o=c(document.getElementById("chartTwo")),i=c(document.getElementById("chartThree")),l.setOption(w),o.setOption(C),i.setOption(T),window.addEventListener("resize",function(){l.resize(),o.resize(),i.resize()}),window.addEventListener("popstate",function(){r()})}return z(()=>{r(),setTimeout(()=>{A()},1200)}),S(()=>{r()}),(d,e)=>{const x=G,_=I,O=P,p=R;return B(),D("div",L,[t("div",null,[n(O,{gutter:20,style:{"margin-top":"20px"}},{default:u(()=>[n(_,{span:12},{default:u(()=>[n(x,{style:{height:"60px",display:"flex","flex-direction":"column"},shadow:"hover","body-style":{padding:0}},{default:u(()=>[e[0]||(e[0]=t("div",{style:{"font-size":"16px","font-weight":"bold",color:"#000"}},[t("span",{style:{"padding-left":"10px"}},"总计已参与课程人数")],-1)),t("div",X,[t("span",Y,b(a.value.numberOfParticipant)+"人",1)])]),_:1,__:[0]})]),_:1}),n(_,{span:12},{default:u(()=>[n(x,{style:{height:"60px",display:"flex","flex-direction":"column"},shadow:"hover","body-style":{padding:0}},{default:u(()=>[e[1]||(e[1]=t("div",{style:{"font-size":"16px","font-weight":"bold",color:"#000"}},[t("span",{style:{"padding-left":"10px"}},"总计已完成课程人数")],-1)),t("div",V,[t("span",U,b(a.value.numberOfCompleter)+"人",1)])]),_:1,__:[1]})]),_:1})]),_:1})]),n(p),e[2]||(e[2]=t("div",null,[t("div",null,[t("span",null,"该课程各实验成绩平均分数")]),t("div",{id:"chartOne",style:{"min-height":"400px"}})],-1)),n(p),e[3]||(e[3]=t("div",null,[t("div",null,[t("span",null,"该课程各实验成绩中位数")]),t("div",{id:"chartTwo",style:{"min-height":"400px"}})],-1)),n(p),e[4]||(e[4]=t("div",null,[t("div",null,[t("span",null,"该课程各Tag(问题点)出现数量")]),t("div",{id:"chartThree",style:{"min-height":"400px"}})],-1))])}}});export{K as default};
